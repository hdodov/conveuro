!function(){"use strict";var e,n,t,c,i,o;e=$(".input-convertor"),n=$(".converted-container"),c=t=null,e.keyup(function(){chrome.runtime.sendMessage({id:"detect_data",data:{selectedText:e.val()}},function(e){e&&c!==e.title&&(c=e.title,t||(t&&t.close(),(t=new Dropdown(n[0])).onDestroy=function(){c=t=null}),t.requestData(e),setTimeout(function(){t.show()},150))})}),e.focus(),i=$(".input-currencies"),o=null,i.selectize({persist:!0,highlight:!0,labelField:["code"],valueField:["code"],searchField:["code","name"],sortField:[{field:"share",direction:"desc"},{field:"name",direction:"asc"}],onChange:function(e){chrome.storage.local.set({currencies:e.split(",")})},render:{option:function(e,n){return'<div class="option"><span class="name">'+e.name+'</span><span class="code">'+e.code+"</span></div>"}}}),o=i[0].selectize,chrome.runtime.sendMessage({id:"get_currencies"},function(e){var n=[];for(var t in e)n.push({code:t,share:e[t].share||0,name:e[t].name});o.addOption(n),chrome.storage.local.get("currencies",function(e){e.currencies.forEach(function(e){o.addItem(e,!0)})})})}();