!function(){"use strict";var m={apiUrl:"http://data.fixer.io/api/latest?access_key=61bef622cdab2e0f536a8343bd33e43c",modifierSymbols:[[/k/i,1e3],[/m/i,1e6],[/b/i,1e9],[/t/i,1e12]],modifierWords:[[/thousand/i,1e3],[/million/i,1e6],[/billion/i,1e9],[/trillion/i,1e12]]},r={currencies:["USD","EUR","JPY","GBP","AUD"]};chrome.runtime.onInstalled.addListener(function(a){chrome.storage.local.get(r,function(a){console.log("Existing data",a),chrome.storage.local.set(a,function(){console.log("Updated data.")})})});var l={AED:{name:"United Arab Emirates Dirham",share:null,symbols:["د.إ"],format:"%dد.إ %s",words:["arab","emirates","dirham"]},AFN:{name:"Afghan Afghani",share:null,symbols:["Afs"],format:"%d Afs",words:["afghan","afghani"]},ALL:{name:"Albanian Lek",share:null,symbols:["L"],format:"%dL",words:["albanian","lek"]},AMD:{name:"Armenian Dram",share:null,symbols:["֏"],format:"%d֏",words:["armenian","dram","luma"]},ANG:{name:"Netherlands Antillean Guilder",share:null,symbols:["ƒ","NAƒ"],format:"ƒ%d %s",words:["netherlands","antillean","guilder"]},ANG:{name:"Angolan Kwanza",share:null,symbols:["Kz"],format:"%dKz",words:["angolan","kwanza"]},ARS:{name:"Argentine Peso",share:null,symbols:["$"],format:"$%d %s",words:["argentine","peso"]},AUD:{name:"Australian Dollar",share:6.9,symbols:["$","A$"],format:"A$%d %s",words:["australian","dollar"]},AWG:{name:"Aruban Florin",share:null,symbols:["Afl."],format:"Afl. %d",words:["aruban","florin","guilder"]},AZN:{name:"Azerbaijani Manat",share:null,symbols:["₼"],format:"₼%d",words:["azerbaijani","manat"]},BAM:{name:"Bosnia-Herzegovina Convertible Mark",share:null,symbols:["KM"],format:"KM%d",words:["bosnia","herzegovina","convertible","mark"]},BBD:{name:"Barbadian Dollar",share:null,symbols:["Bds$","$"],format:"Bds$%d",words:["barbadian","dollar"]},BDT:{name:"Bangladeshi Taka",share:null,symbols:["৳"],format:"৳%d",words:["bangladeshi","taka"]},BGN:{name:"Bulgarian Lev",share:null,symbols:["lv","лв"],format:"%dлв.",words:["bulgarian","lev"]},BHD:{name:"Bahraini Dinar",share:null,symbols:[".د.ب","BD"],format:"BD %d",words:["bahraini","dinar"]},BIF:{name:"Burundian Franc",share:null,symbols:["FBu"],format:"FBu %d",words:["burundian","franc"]},BMD:{name:"Bermudian Dollar",share:null,symbols:["BD$","$"],format:"BD$%d",words:["bermudian","bermuda","dollar"]},BND:{name:"Brunei Dollar",share:null,symbols:["B$","$"],format:"B$%d %s",words:["brunei","dollar"]},BOB:{name:"Bolivian Boliviano",share:null,symbols:["Bs"],format:"Bs%d",words:["bolivian","boliviano"]},BRL:{name:"Brazilian Real",share:1,symbols:["R$","$"],format:"R$%d %s",words:["brazilian","real","reais"]},BSD:{name:"Bahamian Dollar",share:null,symbols:["B$","$"],format:"B$%d %s",words:["bahamian","dollar"]},BTC:{name:"Bitcoin",share:null,symbols:["₿"],format:"₿%d",words:["bitcoin"]},BTN:{name:"Bhutanese Ngultrum",share:null,symbols:["Nu."],format:"%d Nu.",words:["bhutanese","ngultrum"]},BWP:{name:"Botswanan Pula",share:null,symbols:["P"],format:"P%d",words:["botswana","pula"]},BYN:{name:"New Belarusian Ruble",share:null,symbols:["Br"],format:"Br%d %s",words:["belarusian","ruble"]},BYR:{name:"Belarusian Ruble",share:null,symbols:["Br"],format:"Br%d %s",words:["belarusian","ruble"]},BZD:{name:"Belize Dollar",share:null,symbols:["BZ$"],format:"BZ$%d %s",words:["belize","dollar"]},CAD:{name:"Canadian Dollar",share:5.1,symbols:["C$","Can$","$"],format:"C$%d %s",words:["canadian","dollar"]},CDF:{name:"Congolese Franc",share:null,symbols:["FC"],format:"FC%d",words:["congolese","franc"]},CHF:{name:"Swiss Franc",share:4.8,symbols:["Fr.","SFr."],format:"SFr. %d",words:["swiss","franc"]},CLF:{name:"Chilean Unit of Account",share:null,symbols:["UF"],format:"UF%d",words:["chilean","unidad","fomento"]},CLP:{name:"Chilean Peso",share:null,symbols:["$"],format:"$%d %s",words:["chilean","peso"]},CNY:{name:"Chinese Yuan",share:4,symbols:["¥","元","RMB"],format:"¥%d %s",words:["chinese","yuan","yuán","renminbi","rénmínbì"]},COP:{name:"Colombian Peso",share:null,symbols:["$"],format:"$%d %s",words:["colombian","peso"]},CRC:{name:"Costa Rican Colón",share:null,symbols:["₡"],format:"₡%d %s",words:["costa","rican","colón"]},CUC:{name:"Cuban Convertible Peso",share:null,symbols:["CUC$","CUC","$"],format:"CUC$%d",words:["cuban","peso","dollar","cuc","chavito"]},CUP:{name:"Cuban Peso",share:null,symbols:["₱","$MN","$"],format:"₱%d %s",words:["cuban","peso","dollar"]},CVE:{name:"Cape Verdean Escudo",share:null,symbols:["$"],format:"$%d %s",words:["cape","verdean","escudo"]},CZK:{name:"Czech Koruna",share:null,symbols:["Kč"],format:"%d Kč",words:["czech","koruna","crown"]},DJF:{name:"Djiboutian Franc",share:null,symbols:["Fdj"],format:"%d Fdj",words:["djiboutian","franc"]},DKK:{name:"Danish Krone",share:null,symbols:["kr."],format:"%d kr. %s",words:["danish","krone","kroner"]},DOP:{name:"Dominican Peso",share:null,symbols:["RD$"],format:"RD$%d %s",words:["dominican","peso"]},DZD:{name:"Algerian Dinar",share:null,symbols:["دج","DA"],format:"%dدج",words:["algerian","dinar"]},EGP:{name:"Egyptian Pound",share:null,symbols:["E£","ج.م","L.E.","LE"],format:"E£%d",words:["egyptian","pound"]},ERN:{name:"Eritrean Nakfa",share:null,symbols:["Nkf","ናቕፋ","ناكفا"],format:"%d Nkf",words:["eritrean","nakfa"]},ETB:{name:"Ethiopian Birr",share:null,symbols:["Br","ብር"],format:"Br%d %s",words:["ethiopian","birr"]},EUR:{name:"Euro",share:37.4,symbols:["€"],format:"€%d",words:["euro"]},FJD:{name:"Fijian Dollar",share:null,symbols:["FJ$","FJD","$"],format:"FJ$%d",words:["fijian","dollar"]},FKP:{name:"Falkland Islands Pound",share:null,symbols:["FK£","£"],format:"FK£%d",words:["falkland","pound"]},GBP:{name:"British Pound",share:12.8,symbols:["£"],format:"£%d %s",words:["british","pound","sterling","quid"]},GEL:{name:"Georgian Lari",share:null,symbols:["₾","ლ"],format:"₾%d",words:["georgian","lari"]},GGP:{name:"Guernsey Pound",share:null,symbols:["£"],format:"£%d %s",words:["guernsey","pound"]},GHS:{name:"Ghanaian Cedi",share:null,symbols:["GH₵"],format:"GH₵%d",words:["ghanaian","cedi"]},GIP:{name:"Gibraltar Pound",share:null,symbols:["£"],format:"£%d %s",words:["gibraltar","pound"]},GMD:{name:"Gambian Dalasi",share:null,symbols:["D"],format:"D%d %s",words:["gambian","dalasi"]},GNF:{name:"Guinean Franc",share:null,symbols:["FG","Fr","GFr"],format:"FG%d %s",words:["guinean","franc"]},GTQ:{name:"Guatemalan Quetzal",share:null,symbols:["Q"],format:"Q%d %s",words:["guatemalan","quetzal"]},GYD:{name:"Guyanese Dollar",share:null,symbols:["GY$","G$","$"],format:"GY$%d",words:["guyanese","dollar"]},HKD:{name:"Hong Kong Dollar",share:1.7,symbols:["HK$","元","$"],format:"HK$%d",words:["hong","kong","dollar"]},HNL:{name:"Honduran Lempira",share:null,symbols:["L"],format:"L%d %s",words:["honduran","lempira"]},HRK:{name:"Croatian Kuna",share:null,symbols:["kn"],format:"%d kn",words:["croatian","kuna"]},HTG:{name:"Haitian Gourde",share:null,symbols:["G"],format:"G%d %s",words:["haitian","gourde","goud"]},HUF:{name:"Hungarian Forint",share:null,symbols:["Ft"],format:"%d Ft",words:["hungarian","forint"]},IDR:{name:"Indonesian Rupiah",share:null,symbols:["Rp"],format:"Rp %d",words:["indonesian","rupiah"]},ILS:{name:"Israeli New Shekel",share:null,symbols:["₪"],format:"₪%d",words:["israeli","shekel","shēqel"]},IMP:{name:"Manx Pound",share:null,symbols:["£"],format:"£%d %s",words:["manx","pound"]},INR:{name:"Indian Rupee",share:1.1,symbols:["₹"],format:"₹%d",words:["indian","rupee","rupiya"]},IQD:{name:"Iraqi Dinar",share:null,symbols:["د.ع"],format:"%dد.ع",words:["iraqi","dinar"]},IRR:{name:"Iranian Rial",share:null,symbols:["﷼"],format:"%d﷼",words:["iranian","rial"]},ISK:{name:"Icelandic Króna",share:null,symbols:["kr","Íkr"],format:"%d Íkr",words:["icelandic","krona","króna","crown"]},JEP:{name:"Jersey Pound",share:null,symbols:["£"],format:"£%d %s",words:["jersey","pound"]},JMD:{name:"Jamaican Dollar",share:null,symbols:["J$","$"],format:"J$%d %s",words:["jamaican","dollar"]},JOD:{name:"Jordanian Dinar",share:null,symbols:["JD"],format:"JD$%d",words:["jordanian","dinar"]},JPY:{name:"Japanese Yen",share:21.6,symbols:["¥","円","圓"],format:"¥%d %s",words:["japanese","yen"]},KES:{name:"Kenyan Shilling",share:null,symbols:["KSh","Ksh"],format:"%d KSh",words:["kenyan","shilling"]},KGS:{name:"Kyrgystani Som",share:null,symbols:[],format:"%d som",words:["kyrgystani","som"]},KHR:{name:"Cambodian Riel",share:null,symbols:["៛"],format:"៛%d",words:["cambodian","riel"]},KMF:{name:"Comorian Franc",share:null,symbols:["CF"],format:"CF%d %s",words:["comorian","franc"]},KPW:{name:"North Korean Won",share:null,symbols:["₩"],format:"₩%d %s",words:["korea","won"]},KRW:{name:"South Korean Won",share:1.7,symbols:["₩"],format:"₩%d %s",words:["korea","won"]},KWD:{name:"Kuwaiti Dinar",share:null,symbols:["د.ك","KD"],format:"%dد.ك",words:["kuwaiti","dinar"]},KYD:{name:"Cayman Islands Dollar",share:null,symbols:["CI$","$"],format:"CI$%d %s",words:["cayman","dollar"]},KZT:{name:"Kazakhstani Tenge",share:null,symbols:["₸"],format:"₸%d",words:["kazakhstani","tenge"]},LAK:{name:"Lao Kip",share:null,symbols:["₭","₭N"],format:"₭%d",words:["laotian","kip"]},LBP:{name:"Lebanese Pound",share:null,symbols:["ل.ل.‎","LL"],format:"%dل.ل.‎",words:["lebanese","pound"]},LKR:{name:"Sri Lankan Rupee",share:null,symbols:["රු","ரூ","Rs"],format:"රු%d",words:["sri","lanka","rupee"]},LRD:{name:"Liberian Dollar",share:null,symbols:["L$","LD$","$"],format:"L$%d %s",words:["liberian","dollar"]},LSL:{name:"Lesotho Loti",share:null,symbols:["M","L"],format:"M%d %s",words:["lesotho","loti","maloti"]},LTL:{name:"Lithuanian Litas",share:null,symbols:["Lt"],format:"%d Lt",words:["lithuanian","litas"]},LVL:{name:"Latvian Lats",share:null,symbols:["Ls"],format:"Ls %d %s",words:["latvian","lats","lati"]},LYD:{name:"Libyan Dinar",share:null,symbols:["ل.د","LD"],format:"%dل.د",words:["libyan","dinar"]},MAD:{name:"Moroccan Dirham",share:null,symbols:["DH"],format:"DH%d %s",words:["moroccan","dirham"]},MDL:{name:"Moldovan Leu",share:null,symbols:["leu","lei"],format:"%d lei %s",words:["moldovan","leu","lei"]},MGA:{name:"Malagasy Ariary",share:null,symbols:["Ar"],format:"Ar%d",words:["malagasy","ariary"]},MKD:{name:"Macedonian Denar",share:null,symbols:["den","ден"],format:"%d den",words:["macedonian","denar"]},MMK:{name:"Myanma (Burmese) Kyat",share:null,symbols:["K","Ks"],format:"K%d %s",words:["myanma","burmese","kyat"]},MNT:{name:"Mongolian Tugrik",share:null,symbols:["₮"],format:"₮%d",words:["mongolian","tugrik","tögrög"]},MOP:{name:"Macanese Pataca",share:null,symbols:["MOP$"],format:"MOP$%d",words:["macanese","macau","pataca"]},MRO:{name:"Mauritanian Ouguiya",share:null,symbols:["UM"],format:"UM%d",words:["mauritanian","ouguiya"]},MUR:{name:"Mauritian Rupee",share:null,symbols:["₨"],format:"₨%d %s",words:["mauritian","rupee"]},MVR:{name:"Maldivian Rufiyaa",share:null,symbols:["Rf.","MRf",".ރ"],format:"Rf. %d",words:["maldivian","rufiyaa"]},MWK:{name:"Malawian Kwacha",share:null,symbols:["K"],format:"K%d %s",words:["malawian","malawi","kwacha"]},MXN:{name:"Mexican Peso",share:1.9,symbols:["Mex$","$"],format:"Mex$%d",words:["mexican","peso"]},MYR:{name:"Malaysian Ringgit",share:null,symbols:["RM"],format:"RM%d",words:["malaysian","ringgit"]},MZN:{name:"Mozambican Metical",share:null,symbols:["MT"],format:"MT%d",words:["mozambican","metical"]},NAD:{name:"Namibian Dollar",share:null,symbols:["N$","$"],format:"N$%d %s",words:["namibian","dollar"]},NGN:{name:"Nigerian Naira",share:null,symbols:["₦"],format:"₦%d",words:["nigerian","naira"]},NIO:{name:"Nicaraguan Córdoba",share:null,symbols:["C$"],format:"C$%d %s",words:["nicaraguan","cordoba","córdoba"]},NOK:{name:"Norwegian Krone",share:1.7,symbols:["kr"],format:"%d kr %s",words:["norwegian","krone","crown"]},NPR:{name:"Nepalese Rupee",share:null,symbols:["रु"],format:"रु%d",words:["nepalese","rupee"]},NZD:{name:"New Zealand Dollar",share:2.1,symbols:["NZ$","$"],format:"NZ$%d",words:["zealand","dollar","kiwi"]},OMR:{name:"Omani Rial",share:null,symbols:["﷼"],format:"%d﷼",words:["omani","rial"]},PAB:{name:"Panamanian Balboa",share:null,symbols:["B/."],format:"B/.%d",words:["panamanian","balboa"]},PEN:{name:"Peruvian Nuevo Sol",share:null,symbols:["S/"],format:"S/%d",words:["peruvian","peru","nuevo","sol"]},PGK:{name:"Papua New Guinean Kina",share:null,symbols:["K"],format:"K%d %s",words:["papua","guinean","kina"]},PHP:{name:"Philippine Peso",share:null,symbols:["₱"],format:"₱%d",words:["philippine","peso","pilipinas","piso"]},PKR:{name:"Pakistani Rupee",share:null,symbols:["₨"],format:"₨%d %s",words:["pakistani","rupee","rupaya","rupayya","paisay"]},PLN:{name:"Polish Zloty",share:null,symbols:["zł","zl"],format:"%dzł",words:["polish","zloty","złoty"]},PYG:{name:"Paraguayan Guaraní",share:null,symbols:["₲"],format:"₲%d",words:["paraguayan","guarani","guaraní"]},QAR:{name:"Qatari Riyal",share:null,symbols:["ر.ق","QR"],format:"%dر.ق",words:["qatari","riyal"]},RON:{name:"Romanian Leu",share:null,symbols:["leu","lei"],format:"%d lei %s",words:["romanian","leu","lei"]},RSD:{name:"Serbian Dinar",share:null,symbols:["din","dinar","дин","динар"],format:"%d дин",words:["serbian","dinar"]},RUB:{name:"Russian Ruble",share:1.1,symbols:["₽","руб"],format:"%d₽",words:["russian","ruble","рубль","рубли́"]},RWF:{name:"Rwandan Franc",share:null,symbols:["R₣","FRw","RF"],format:"%dR₣",words:["rwandan","franc"]},SAR:{name:"Saudi Riyal",share:null,symbols:["ر.س","SR"],format:"%dر.س",words:["saudi","riyal"]},SBD:{name:"Solomon Islands Dollar",share:null,symbols:["SI$","$"],format:"SI$%d",words:["solomon","dollar"]},SCR:{name:"Seychellois Rupee",share:null,symbols:["SR","SRe"],format:"SR%d",words:["seychellois","seychelles","rupee","roupi"]},SDG:{name:"Sudanese Pound",share:null,symbols:["ج.س","SD"],format:"%dج.س",words:["sudanese","pound"]},SEK:{name:"Swedish Krona",share:2.2,symbols:["kr"],format:"%d kr %s",words:["swedish","krona","kronor","crown"]},SGD:{name:"Singapore Dollar",share:1.8,symbols:["S$","$"],format:"S$%d %s",words:["singapore","dollar"]},SHP:{name:"Saint Helena Pound",share:null,symbols:["£"],format:"£%d %s",words:["helena","pound"]},SLL:{name:"Sierra Leonean Leone",share:null,symbols:["Le"],format:"Le %d",words:["sierra","leonean","leone"]},SOS:{name:"Somali Shilling",share:null,symbols:["Sh.So."],format:"%dSh.So.",words:["somali","shilling"]},SRD:{name:"Surinamese Dollar",share:null,symbols:["Sr$","$"],format:"Sr$%d",words:["surinamese","dollar"]},STD:{name:"São Tomé and Príncipe Dobra",share:null,symbols:["Db"],format:"Db%d",words:["sao","são","tome","tomé","principe","príncipe","dobra"]},SVC:{name:"Salvadoran Colón",share:null,symbols:["₡"],format:"₡%d %s",words:["salvadoran","colón"]},SYP:{name:"Syrian Pound",share:null,symbols:["£","£S","LS"],format:"£%d %s",words:["syrian","pound"]},SZL:{name:"Swazi Lilangeni",share:null,symbols:["L","E"],format:"E%d %s",words:["swazi","lilangeni","emalangeni"]},THB:{name:"Thai Baht",share:null,symbols:["฿"],format:"฿%d",words:["thai","baht"]},TJS:{name:"Tajikistani Somoni",share:null,symbols:["ЅM"],format:"ЅM%d",words:["tajikistani","somoni"]},TMT:{name:"Turkmenistan Manat",share:null,symbols:["T"],format:"T%d",words:["turkmenistan","manat"]},TND:{name:"Tunisian Dinar",share:null,symbols:["د.ت","DT"],format:"%dد.ت",words:["tunisian","dinar"]},TOP:{name:"Tongan Paʻanga",share:null,symbols:["T$","PT"],format:"T$%d %s",words:["tongan","paʻanga","paanga","anga"]},TRY:{name:"Turkish Lira",share:1.4,symbols:["₺"],format:"₺%d",words:["turkish","lira"]},TTD:{name:"Trinidad and Tobago Dollar",share:null,symbols:["TT$","$"],format:"TT$%d",words:["trinidad","tobago","dollar"]},TWD:{name:"New Taiwan Dollar",share:null,symbols:["NT$","$"],format:"NT$%d",words:["taiwan","dollar"]},TZS:{name:"Tanzanian Shilling",share:null,symbols:["TSh"],format:"%d TSh",words:["tanzanian","shilling"]},UAH:{name:"Ukrainian Hryvnia",share:null,symbols:["₴"],format:"₴%d",words:["ukrainian","hryvnia","hryvnya"]},UGX:{name:"Ugandan Shilling",share:null,symbols:["USh"],format:"%d USh",words:["ugandan","shilling"]},USD:{name:"United States Dollar",share:80.6,symbols:["$"],format:"$%d %s",words:["united","states","u.s.","dollar","buck"]},UYU:{name:"Uruguayan Peso",share:null,symbols:["$","$U"],format:"$%d %s",words:["uruguayan","peso"]},UZS:{name:"Uzbekistani Soʻm",share:null,symbols:["сўм","soʻm"],format:"%d сўм",words:["uzbekistani","soʻm","som"]},VEF:{name:"Venezuelan Bolívar Fuerte",share:null,symbols:["Bs.F."],format:"Bs.F. %d",words:["venezuelan","bolivar","bolívar","fuerte"]},VND:{name:"Vietnamese Đồng",share:null,symbols:["₫"],format:"%d₫",words:["vietnamese","dong","đồng"]},VUV:{name:"Vanuatu Vatu",share:null,symbols:["VT"],format:"%dVT",words:["vanuatu","vatu"]},WST:{name:"Samoan Tala",share:null,symbols:["WS$","SAT","ST","T"],format:"WS$%d",words:["samoan","tala"]},XAF:{name:"Central African CFA Franc",share:null,symbols:["FCFA"],format:"%d FCFA",words:["african","cfa","franc"]},XAG:{name:"Silver (troy ounce)",share:null,symbols:["silver"],format:"%doz silver",words:["silver"]},XAU:{name:"Gold (troy ounce)",share:null,symbols:["gold"],format:"%doz gold",words:["gold"]},XCD:{name:"East Caribbean Dollar",share:null,symbols:["EC$","$"],format:"EC$%d",words:["caribbean","dollar"]},XDR:{name:"Special Drawing Rights",share:null,symbols:[],format:"%d %s",words:[]},XOF:{name:"West African CFA Franc",share:null,symbols:["CFA"],format:"%d CFA",words:["african","cfa","franc"]},XPF:{name:"CFP Franc",share:null,symbols:["₣","CFP"],format:"₣%d CFP",words:["african","cfp","franc"]},YER:{name:"Yemeni Rial",share:null,symbols:["﷼"],format:"%d﷼",words:["yemeni","rial","riyal"]},ZAR:{name:"South African Rand",share:1,symbols:["R"],format:"R %d",words:["african","rand"]},ZMK:{name:"Zambian Kwacha (2003-2012)",share:null,symbols:["K"],format:"K%d %s",words:["zambian","kwacha"]},ZMW:{name:"Zambian Kwacha",share:null,symbols:["K"],format:"K%d %s",words:["zambian","kwacha"]},ZWL:{name:"Zimbabwean Dollar",share:null,symbols:["Z$","$"],format:"Z$%d %s",words:["zimbabwean","zimbabwe","dollar"]}};function e(r){var n,s,a=/(\d(?:[\.,\s]?\d+)*)(?:([a-z])\b)?/i.exec(r);return a&&a.length&&(n=function(a){var r="",n=[],s=/\D+/gi,o=null,e=a.replace(s,"-").split("-");for(;o=s.exec(a);)n.push(o[0]);for(var l=0;l<e.length;l++)l===e.length-1&&0<l&&(3!==e[l].length||"."===n[l-1])&&(r+="."),r+=e[l];return parseFloat(r)}(a[1]),(s=a[2])?m.modifierSymbols.forEach(function(a){s.match(a[0])&&(n*=a[1])}):m.modifierWords.forEach(function(a){r.match(a[0])&&(n*=a[1])})),"number"==typeof n&&NaN!==n?n:null}function i(e){var a=u(function(a,r){return-1!==e.indexOf(r)});if(1===function(a){var r=0;for(var n in a)r++;return r}(a))for(var r in a)return r;var n=u(function(a){var o=0;return a.symbols.forEach(function(a){if("string"==typeof a&&-1!==e.indexOf(a)){var r=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n=new RegExp("(?:\\s|^)"+r+"\\d+"),s=new RegExp("\\d+\\s?"+r+"(?:\\s|$)");(e.match(n)||e.match(s))&&o++}}),0<o&&o}),s=u(function(a){var r=0;return a.words.forEach(function(a){e.match(new RegExp("\\b"+a,"i"))&&r++}),0<r&&r});n=d(n),s=d(s);var o=Object.keys(function(){var n={};return[].forEach.call(arguments,function(a){if("object"==typeof a&&null!==a)for(var r in a)n[r]=a[r]}),n}(n,s));return 0<(o=o.sort(function(a,r){return l[a]&&l[r]?l[r].share-l[a].share:0})).length?o[0]:null}function n(){return new Promise(function(e,l){chrome.storage.sync.get("apiResponse",function(a){var s,r=a.apiResponse;if(r){var n=new Date(1e3*r.timestamp),o=new Date-n;if(o<1296e5)return console.log("Data cached for",parseInt((1296e5-o)/6e4),"minutes:",r),e(r)}(s=new XMLHttpRequest,new Promise(function(r,n){s.addEventListener("readystatechange",function(){if(4===this.readyState){if(200!=this.status)return n({message:this.statusText,status:this.status});var a=null;try{a=JSON.parse(this.responseText)}catch(a){return n({message:"Couldn't parse response data."})}return a&&a.rates?(console.log("API response:",a),r(a)):n({message:"No rates data found in response."})}}),s.open("GET",m.apiUrl,!0),s.send(null)})).then(function(r){chrome.storage.sync.set({apiResponse:r},function(a){console.log("Saved response in synced storage:",a),e(r)})}).catch(l)})})}function d(a){var r;for(var n in a)(a[n]>r||void 0===r)&&(r=a[n]);return function(a,r){var n={};for(var s in a)r(a[s],s)&&(n[s]=a[s]);return n}(a,function(a){return a===r})}function t(a,r){if("number"!=typeof a)return a;var n=a.toString().split("."),s=n[0],o=n[1]||"",e=function(a){if("string"==typeof a||"number"==typeof a){var r=parseInt(a);if("number"!=typeof r||0==r)return a}for(var n="",s=0,o=a.length-1;0<=o;o--)n=a[o]+n,3<=++s&&0<o&&(n=","+n,s=0);return n}(s),l=r-s.length,m="";if(1==l&&(l=2),0<l)for(var i=0;i<l;i++)m+=void 0!==o[i]?o[i]:"0";var d=e;return 0<m.length&&(d+="."+m),d}function u(a){var r={};for(var n in l){var s=a(l[n],n);!1!==s&&(r[n]=s)}return r}function f(a,r,n){var s=r;return l[a]&&(s=(s=(s=l[a].format).replace(/\%d/g,r)).replace(/\%s/g,!1!==n?a:"")),"string"==typeof s?s.trim():r}chrome.runtime.onMessage.addListener(function(a,r,n){if("get_currencies"===a.id)if(a.currencies)for(var s in a.currencies)a.currencies[s]=l[s],n(a.currencies);else n(l)}),chrome.runtime.onMessage.addListener(function(a,r,n){if("detect_data"===a.id){var s=function(a){for(var r=[a.selectedText,a.startContainerText,a.endContainerText,a.commonAncestorText],n=null,s=null,o=0;o<r.length;o++)"string"==typeof r[o]&&"number"!=typeof s&&(s=e(r[o]));if("number"==typeof s)for(o=0;o<r.length;o++)"string"==typeof r[o]&&"string"!=typeof n&&(n=i(r[o]));return{currency:n,value:s}}(a.data);if("string"==typeof s.currency&&"number"==typeof s.value&&0!==s.value)return chrome.storage.local.get("currencies",function(a){var r=[];a.currencies.forEach(function(a){l[a]&&a!==s.currency&&r.push({code:a,name:l[a].name})}),n({title:f(s.currency,t(s.value,3)),value:s.value,currency:s.currency,list:r})}),!0;n(!1)}}),chrome.runtime.onMessage.addListener(function(e,a,r){if("fill_list"===e.id)return n().then(function(s){var a=s.rates[e.base],o=1/a;if("number"!=typeof a)return r({error:"No base rate found"});e.list.forEach(function(a){var r=s.rates[a.code],n=o*r;r&&(a.value=f(a.code,t(n*e.value,3),!1),a.rate=t(n,5))}),r({list:e.list})}),!0})}();